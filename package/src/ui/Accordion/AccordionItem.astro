---
import getContext from '@astro-utils/context';
import type { ComponentProps } from 'astro/types';
import Collapse from '../Collapse/Collapse.astro';

type Props = Omit<
  ComponentProps<typeof Collapse>,
  'name' | 'mode' | 'focusColor'
>;

const { class: providedClass, ...restProps }: Props = Astro.props;
const { name } = getContext(Astro);

let cssClass = 'join-item';

if (providedClass) {
  cssClass += ` ${providedClass}`;
}
---

<Collapse mode="radio" {name} class={cssClass} {...restProps}>
  <slot />
</Collapse>
